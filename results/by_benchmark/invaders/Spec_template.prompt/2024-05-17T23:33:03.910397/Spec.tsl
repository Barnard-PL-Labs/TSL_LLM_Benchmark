always assume {
    // Mutual Exclusion for Key Inputs
    !(pressL && pressR);
    !(pressL && pressUp);
    !(pressL && pressDown);
    !(pressR && pressUp);
    !(pressR && pressDown);
    !(pressUp && pressDown);
}

always guarantee {
    // Ship Hit Detection
    hit -> [command <- die(ship)];
    
    // Left Movement
    pressL -> {
        // Ensure that the ship can move left unless it's at the leftmost position
        !leftmost(ship) -> [command <- moveLeft(ship)];
    };
    
    // Right Movement
    pressR -> {
        // Ensure that the ship can move right unless it's at the rightmost position
        !rightmost(ship) -> [command <- moveRight(ship)];
    };
    
    // Shooting Action
    pressS -> [command <- shoot(ship)];
}
