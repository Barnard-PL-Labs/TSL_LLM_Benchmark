always assume {
  // Mutual exclusion for button inputs to ensure no two counter operations can be performed simultaneously
  !(pressA(e) && pressB(e));
  !(pressA(e) && pressC(e));
  !(pressB(e) && pressC(e));
}

always guarantee {
  // Pressing the A key increments the counter by the current stepsize
  pressA(e) -> ([counter <- counter + stepsize]);
  
  // Pressing the B key increments the counter by 2
  pressB(e) -> ([counter <- counter + 2]);

  // Pressing the C key increments the counter by 3
  pressC(e) -> ([counter <- counter + 3]);

  // If A key is pressed three times consecutively without B or C being pressed, multiply stepsize by 3
  // Using a counter (aCount) to track consecutive A presses
  pressA(e) && (X pressA(e)) && (X X pressA(e)) && !(X pressB(e) || X pressC(e)) && !(X X pressB(e) || X X pressC(e)) -> ([stepsize <- multiplyByThree(stepsize)]);

  // Reset stepsize to 1 if either B or C is pressed
  (pressB(e) || pressC(e)) -> ([stepsize <- 1]);
}
