
Take the following natural language description of a program and implement it in JavaScript, as a function:

  function updateState({currentState, inputVar1, inputVar2, ..., cellVar1, cellVar2, ... }) {
    // ... [TODO: fill this in] ...
    
    return { currentState, outputVar1, outputVar2, ... cellVar1, cellVar2, ... }
  }

This is a complete listing of the functions, predicates, and cells you can assume access to. Your implementation should reference nothing else.

Cells:
    "g" is a cell that is set to the index of the truck that is granted a request to go across the road in this timestep
Predicates:
    (r i) => this evaluates to true when truck "i" is requesting to go across the road in this timestep
    (p i j) => this returns true if truck "i" wins the coinflip against truck "j". this does not have any particular meaning, other than that two trucks have chosen to flip a coin against one another because they are bored.

Natural language description:

There are 4 trucks going across a bridge. Sometimes they go one way on it, sometimes they go the other way. Only one truck can be on the bridge in a given timestep. Trucks request to go across the bridge, and they are given grants to go across the bridge by an arbiter. You are the arbiter, determining which trucks can go across the bridge.

You should make 4 assumptions: every i in 1..4, truck i will eventually make a request to go across the bridge. You provide these 4 guarantees: each i in 1..4, if truck i makes a request to go across the bridge, eventually it will be granted access to the bridge. In addition, provide these 5 guarantees:
1. if 1 wins the coinflip against 2 and 3 is granted, then 1 must not be granted until 2 is
2. if 1 wins the coinflip against 2 and 4 is granted, then 1 must not be granted until 2 is
3. if 1 wins the coinflip against 3 and 2 is granted, then 1 must not be granted until 3 is
4. if 1 wins the coinflip against 3 and 4 is granted, then 1 must not be granted until 3 is
5. if 1 wins the coinflip against 4 and 2 is granted, then 1 must not be granted until 4 is

