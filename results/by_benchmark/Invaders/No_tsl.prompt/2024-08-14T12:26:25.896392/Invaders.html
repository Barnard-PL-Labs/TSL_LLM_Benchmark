<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <title>Space Invaders</title>
    <style>
        #gameArea {
            width: 800px;
            height: 600px;
            position: relative;
            overflow: hidden;
            background-color: black;
            margin: 20px auto;
            display: flex;
            align-items: flex-end;
            justify-content: center;
        }
        
        .ship {
            width: 50px;
            height: 50px;
            background-color: blue;
            position: absolute;
            bottom: 10px;
        }
        
        .bullet {
            width: 5px;
            height: 20px;
            background-color: yellow;
            position: absolute;
        }
        
        .enemy {
            width: 40px;
            height: 40px;
            background-color: red;
            position: absolute;
            top: 10px;
        }
    </style>
</head>

<body>
    <div id="gameArea">
        <div class="ship" id="ship"></div>
    </div>

    <script>

        function updateState({ currentState, leftPressed, rightPressed, shootPressed }) {
    const { ship } = currentState;

    if (hit(ship)) {
        // If the ship is hit, trigger game over or damage sequence
        die(ship);
        return {
            currentState: {
                ...currentState,
                dead: 1,  // Setting a flag or similar action to indicate the ship has been hit
            }
        };
    } else {
        let action = null;

        // Process movement inputs with mutual exclusions
        if (leftPressed && !rightPressed) {
            // Move left if not at the leftmost position
            if (!leftmost(ship)) {
                action = moveLeft(ship);
            }
        } else if (rightPressed && !leftPressed) {
            // Move right if not at the rightmost position
            if (!rightmost(ship)) {
                action = moveRight(ship);
            }
        }

        // Process shooting action
        if (shootPressed) {
            action = shoot(ship);
        }

        // Return the new state; no change to the ship state itself beyond actions performed
        return {
            currentState: {
                ...currentState,
                action: action  // action here can be the result of moveLeft, moveRight, or shoot
            }
        };
    }
}

        
    </script>
    <script src="computed/Synth.js" type="text/javascript"></script>


</body>

</html>